<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="./fav/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./fav/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./fav/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./fav/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./fav/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./fav/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./fav/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./fav/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./fav/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="./fav/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./fav/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./fav/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./fav/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <!-- <script src="anime.min.js"></script> -->

    <title>Military Online</title>
  </head>
  <body>
    <div class="container" id="app">
      <div class="top">
        <div class="title">
          <span> MILITARY ONLINE </span>
          <br />
          <span>09.28.2021</span>
        </div>
        <div class="name">
          <span>YEH CHUN FU</span>
          <br />
          <span>Meilun 970020</span>
        </div>
      </div>
      <div class="counter">
        <div class="num">
          <div class="arrow">-></div>
          <div class="countnum">
            <div style="margin-right: 10px">DAY</div>
            <div class="num1">{{remainday[0]}}</div>
            <div class="num2">{{remainday[1]}}</div>
            <div class="num3">{{remainday[2]}}</div>
          </div>
        </div>
      </div>
      <div class="weatherwrap">
        <div class="country">{{country}} <span> {{cityname}} </span></div>
        <div class="weather"><span> {{weather}} </span> {{temp}}</div>
      </div>
      <div class="btn">
        <span>MILITARY ONLINE -></span>
      </div>
    </div>

    <script>
      var app = new Vue({
        el: "#app",
        data: {
          cityname: "888",
          country: null,
          weather: null,
          temp: null,
        },
        created() {
          axios
            .get(
              "https://api.openweathermap.org/data/2.5/forecast?q=Hualien,tw&APPID=274c96563e373403f14f1b2f3b75b4b3&units=metric"
            )
            .then((response) => {
              this.cityname = response.data.city.name;
              this.country = response.data.city.country;
              this.weather = response.data.list[0].weather[0].main;
              this.temp = response.data.list[0].main.temp;
            })
            .catch((error) => console.log(error));
        },
        mounted() {
          var tl = anime.timeline({
            easing: "easeInOutQuad",
            duration: 1300,
            loop: true,
            direction: "alternate",
          });
          tl.add({
            targets: ".arrow",
            translateX: [-100, -10],
          });
          tl.add(
            {
              targets: ".num1",
              translateY: [-100, 0],
              duration: 700,
            },
            "-=800"
          );
          tl.add(
            {
              targets: ".num2",
              translateY: [-100, 0],
              duration: 700,
            },
            "-=700"
          );
          tl.add(
            {
              targets: ".num3",
              translateY: [-100, 0],
              duration: 900,
            },
            "-=500"
          );
        },
        computed: {
          remainday() {

            var today = new Date();
            var inday = new Date("2021/09/28");
            var currentDateTime = new Date(
              today.getFullYear() +
                "/" +
                (today.getMonth() + 1) +
                "/" +
                today.getDate()
            );
            let totalinday = currentDateTime.getTime() - inday.getTime();
            days = totalinday / (1000 * 3600 * 24);
            let firstd = (days % 10).toString();
            let secd = Math.floor(days / 10)
              .toString()
              .substring(1);
            if(secd==''){
              secd = "0"
            }
            let thrid = Math.floor(days / 100).toString();

            let totalday = thrid+secd+firstd
            console.log(secd)
            
            return totalday;
          },
        },
      });
    </script>
  </body>
</html>
